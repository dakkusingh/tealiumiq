services:
  tealiumiq.udo:
    class: Drupal\tealiumiq\Service\Udo
    arguments: ["@event_dispatcher"]

  tealiumiq.tealiumiq:
    class: Drupal\tealiumiq\Service\Tealiumiq
    arguments: ["@config.factory", '@tealiumiq.udo', '@tealiumiq.token', '@plugin.manager.tealiumiq.tag', '@request_stack', '@language_manager']

  plugin.manager.tealiumiq.tag:
    class: Drupal\tealiumiq\Service\TagPluginManager
    parent: default_plugin_manager

  plugin.manager.tealiumiq.group:
    class: Drupal\tealiumiq\Service\GroupPluginManager
    parent: default_plugin_manager

  tealiumiq.alter.udo.properties:
    class: Drupal\tealiumiq\EventSubscriber\AlterUdoProperties
    tags:
      - { name: event_subscriber }

  tealiumiq.token:
    class: Drupal\tealiumiq\Service\TealiumiqToken
    arguments: ['@token']
